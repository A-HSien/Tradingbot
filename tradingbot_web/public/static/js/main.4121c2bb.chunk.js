(this.webpackJsonptradingbot_fe=this.webpackJsonptradingbot_fe||[]).push([[0],{68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a,n=c(1),r=c.n(n),s=c(19),l=c.n(s),o=c(9),i=c(35).a,b=i,u=b("bg-gray-100","dark:bg-gray-700"),j=b("text-gray-900","dark:text-gray-100"),d=b("py-3","px-6"),h=b("rounded","border"),O=b(h,"border-gray-100","dark:border-gray-600"),x=b("block","w-full","text-center","py-2","px-4","hover:bg-blue-500","font-semibold","text-blue-500","hover:text-white",h,"border-blue-500","hover:border-transparent"),p=b("table-auto","rounded","border-collapse","border","border-gray-800","w-full"),m=b("py-3","px-2","border","border-gray-600","h-10","text-center"),f=b("overflow-auto","rounded","bg-gray-600","p-2","mb-3","text-left"),g=(b("overflow-auto"),{background:u,textColor:j,pageEdge:d,border:h,borderGray:O,buttonStyle:x,table:p,tableCell:m,codeBlockStyle:f}),v=c(7),N=c(3),y=c(20),C=c(5),k=c(14),S=c.n(k),w=c(18),A=c(21),E=c(6),L=c.n(E),T=c(2),z=new function e(){var t=this;Object(A.a)(this,e),this.accounts=[],this.loadAccounts=Object(w.a)(S.a.mark((function e(){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/account/all").then((function(e){return e.data}));case 2:(c=e.sent).forEach((function(e){e.balances=(e.balances||[]).map((function(e){return e.free=Number(e.free),e.locked=Number(e.locked),e.sum=e.free+e.locked,e})).sort((function(e,t){return e.sum-t.sum}))})),t.accounts=c;case 5:case"end":return e.stop()}}),e)}))),this.save=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/account/save",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(T.l)(this)},B=c(0),F="New",K={root:b(g.pageEdge,"grid","grid-cols-2","gap-2"),input:b(g.background,g.borderGray,"px-3"),checkbox:b("translate-y-1.5","transform-gpu"),error:b("col-span-2","pt-2","text-red-500","text-xs"),button:b(g.buttonStyle,"col-span-2")},R={id:"",name:"",apiKey:"",apiSecret:"",quota:0,disabled:!1},q=function(){var e=Object(N.h)().id,t=Object(n.useState)(Object(o.a)({},R)),c=Object(C.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(C.a)(s,2),i=l[0],b=l[1],u=Object(n.useState)(""),j=Object(C.a)(u,2),d=j[0],h=j[1];Object(n.useEffect)((function(){var t=e===F?R:z.accounts.find((function(t){return t.id===e}));t?r(Object(o.a)({},t)):b(!0)}),[e]);var O=function(e){var t=e.currentTarget,c="checkbox"===t.type?t.checked:t.value,n=t.name;r(Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},n,c)))};return i?Object(B.jsx)(N.a,{push:!0,to:ne(ae.Accounts)}):Object(B.jsxs)("div",{className:K.root,children:[Object(B.jsx)("label",{children:"\u540d\u7a31"}),Object(B.jsx)("input",{className:K.input,name:"name",type:"text",value:a.name,onChange:O}),e===F&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("label",{children:"API key"}),Object(B.jsx)("input",{className:K.input,name:"apiKey",type:"text",value:a.apiKey,onChange:O}),Object(B.jsx)("label",{children:"API Secret"}),Object(B.jsx)("input",{className:K.input,name:"apiSecret",type:"text",value:a.apiSecret,onChange:O})]}),Object(B.jsx)("label",{children:"\u55ae\u7b46\u6295\u8cc7\u984d"}),Object(B.jsx)("input",{className:K.input,name:"quota",type:"number",value:a.quota,onChange:O}),Object(B.jsx)("label",{children:"\u505c\u7528"}),Object(B.jsx)("input",{className:K.checkbox,name:"disabled",type:"checkbox",checked:a.disabled,onChange:O}),Object(B.jsx)("pre",{className:K.error,children:d||a.error}),Object(B.jsx)("button",{className:K.button,onClick:function(){var t=[];a.name||t.push("\u8acb\u8f38\u5165 \u540d\u7a31"),e===F&&(a.apiKey||t.push("\u8acb\u8f38\u5165 api Key"),a.apiSecret||t.push("\u8acb\u8f38\u5165 api Secret"),r(Object(o.a)(Object(o.a)({},a),{},{error:t.join("\n")}))),t.length>0||z.save(a).then((function(){b(!0)})).catch((function(){h("\u5132\u5b58\u5931\u6557, \u8acb\u6aa2\u67e5\u60a8\u7684 api Key \u6216 api Secret")}))},children:"\u5132\u5b58"})]})},M=c(8),P=function(e){return JSON.stringify(e,null,"\t")},I={page:b(g.pageEdge),tableContainer:b("overflow-auto"),table:g.table,tableCell:g.tableCell},Y=Object(M.b)((function(){var e=Object(N.h)().name,t=Object(n.useState)([]),c=Object(C.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){L.a.get("/account/records",{params:{name:e}}).then((function(e){return e.data})).then(r)}),[e]),Object(B.jsxs)("div",{className:I.page,children:["\u5e33\u6236 - ",e,Object(B.jsx)("br",{}),"\u7cfb\u7d71\u50c5\u4fdd\u5b58\u4e03\u5929\u5167\u4e4b\u4ea4\u6613\u7d00\u9304:",Object(B.jsx)("div",{className:I.tableContainer,children:Object(B.jsxs)("table",{className:I.table,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{className:I.tableCell,children:"\u6642\u9593"}),Object(B.jsx)("th",{className:I.tableCell,children:"\u52d5\u4f5c"}),Object(B.jsx)("th",{className:I.tableCell,children:"\u6210\u529f"}),Object(B.jsx)("th",{className:I.tableCell,children:"\u53c3\u6578"}),Object(B.jsx)("th",{className:I.tableCell,children:"\u7d50\u679c"})]})}),Object(B.jsx)("tbody",{children:a.map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:I.tableCell,children:e.createdAt}),Object(B.jsx)("td",{className:I.tableCell,children:e.action}),Object(B.jsx)("td",{className:I.tableCell,children:e.success?"Y":"N"}),Object(B.jsx)("td",{className:I.tableCell,children:e.params}),Object(B.jsx)("td",{className:I.tableCell,children:Object(B.jsx)("pre",{className:f,children:P(e.result)})})]},t)}))})]})})]})})),_={actions:b("flex","justify-end"),action:b(g.buttonStyle,"w-28"),table:g.table,tableCell:g.tableCell,balancesCell:b("h-full","overflow-auto","text-left")},J=Object(M.b)((function(){Object(n.useEffect)((function(){z.loadAccounts()}),[]);var e=Object(n.useCallback)((function(e){return e.error?Object(B.jsx)(B.Fragment,{children:e.error}):e.balances&&0!==e.balances.length?Object(B.jsx)("pre",{className:_.balancesCell,children:(e.balances||[]).map((function(e){return"".concat(e.asset,": ").concat(e.free," / ").concat(e.locked)})).join("\n")}):Object(B.jsx)(B.Fragment,{children:"\u7121\u8cc7\u7522"})}),[]);return Object(B.jsxs)("div",{className:g.pageEdge,children:[Object(B.jsx)("div",{className:_.actions,children:Object(B.jsx)(v.b,{className:_.action,to:"/Account/".concat(F),children:"\u65b0\u589e\u5e33\u865f"})}),"\u5e33\u6236\u5217\u8868:",Object(B.jsxs)("table",{className:_.table,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{className:_.tableCell}),Object(B.jsx)("th",{className:_.tableCell,children:"\u540d\u7a31"}),Object(B.jsx)("th",{className:_.tableCell,children:"\u8cc7\u7522 (free/locked)"}),Object(B.jsx)("th",{className:_.tableCell,children:"\u55ae\u7b46\u6295\u8cc7\u984d"}),Object(B.jsx)("th",{className:_.tableCell,children:"\u505c\u7528"}),Object(B.jsx)("th",{className:_.tableCell})]})}),Object(B.jsx)("tbody",{children:z.accounts.map((function(t,c){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:_.tableCell,children:Object(B.jsx)(v.b,{className:g.buttonStyle,to:"/Account/".concat(t.id),children:"\u7de8\u8f2f"})}),Object(B.jsx)("td",{className:_.tableCell,children:t.name}),Object(B.jsx)("td",{className:_.tableCell,children:e(t)}),Object(B.jsx)("td",{className:_.tableCell,children:t.quota}),Object(B.jsx)("td",{className:_.tableCell,children:t.disabled?"Y":""}),Object(B.jsx)("td",{className:_.tableCell,children:Object(B.jsx)(v.b,{className:g.buttonStyle,to:"/AccountRecord/".concat(t.name),children:"\u64cd\u4f5c\u8a18\u9304"})})]},c)}))})]})]})})),G=c(15),V=c.n(G);!function(e){e[e.Authenticated=0]="Authenticated",e[e.Authorized=1]="Authorized"}(a||(a={}));var D=new function e(){var t=this;Object(A.a)(this,e),this.authStatus=void 0,this.logout=function(){V.a.remove("auth-token"),t.authStatus=void 0},Object(T.l)(this);var c=V.a.get("auth-token");this.authStatus=c?a.Authorized:void 0},U={root:b("m-16","p-16")},W=Object(M.b)((function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("/auth/url").then((function(e){return e.text()})).then((function(e){r(e)}))}),[]),D.authStatus===a.Authenticated?Object(B.jsx)(N.a,{push:!0,to:ne(ae.Register)}):Object(B.jsx)("div",{className:U.root,children:Object(B.jsx)("a",{className:g.buttonStyle,href:c,children:"\u767b\u5165"})})})),H={root:b("m-16","p-16")},Q=Object(M.b)((function(){var e=Object(n.useMemo)((function(){return V.a.get("auth-token")}),[]),t=Object(n.useState)(!1),c=Object(C.a)(t,2),a=c[0],r=c[1];return e?a?Object(B.jsx)(N.a,{push:!0,to:ne(ae.Accounts)}):Object(B.jsx)("div",{className:H.root,children:Object(B.jsx)("button",{className:g.buttonStyle,onClick:function(){L.a.post("/auth/register").then((function(){r(!0)}))},children:"\u8a3b\u518a"})}):Object(B.jsx)(N.a,{push:!0,to:ne(ae.Login)})})),X={block:b("mb-6"),token:b(f)},Z="/signal/trading",$={action:"OrderTest",token:"[Your Token]",symbol:"LTCBTC",side:"BUY",type:"MARKET",quantity:"100"},ee=function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(C.a)(r,2),l=s[0],i=s[1],b=Object(n.useState)(!1),u=Object(C.a)(b,2),j=u[0],h=u[1];Object(n.useEffect)((function(){L.a.get("/signal/getToken").then((function(e){return a(e.data)})),L.a.get("/signal/actions").then((function(e){return i(e.data)}))}),[]);return Object(B.jsxs)("div",{className:d,children:[Object(B.jsx)("label",{children:"\u8a0a\u865f\u7bc4\u4f8b:"}),Object(B.jsx)("div",{className:X.block,children:Object(B.jsxs)("pre",{className:f,children:["api url: ",window.location.host+Z,Object(B.jsx)("br",{}),"payload:",P($),Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://binance-docs.github.io/apidocs/spot/cn/#c15d2e6b39",target:"_blank",rel:"noreferrer",children:"\u8a73\u7d30\u53c3\u6578\u8aaa\u660e"}),Object(B.jsx)("br",{}),!j&&Object(B.jsx)("button",{className:x,onClick:function(){var e=Object(o.a)({},$);e.token=c,L.a.post(Z,e).then((function(e){h(!0)}))},children:"\u9001\u51fa"}),j&&Object(B.jsx)("div",{children:"\u6e2c\u8a66\u5df2\u9001\u51fa,\u8acb\u81f3[\u8a0a\u865f\u7d00\u9304]\u8207[\u5e33\u6236\u64cd\u4f5c\u8a18\u9304]\u67e5\u8a62\u7d50\u679c"})]})}),Object(B.jsxs)("div",{className:X.block,children:["token:",Object(B.jsx)("div",{className:X.token,children:Object(B.jsx)("div",{children:c})})]}),Object(B.jsxs)("div",{className:X.block,children:["action\u5c0d\u7167\u8868:",Object(B.jsxs)("table",{className:p,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{className:m,children:"\u540d\u7a31"}),Object(B.jsx)("th",{className:m,children:"\u529f\u80fd\u63cf\u8ff0"}),Object(B.jsx)("th",{className:m,children:"api"})]})}),Object(B.jsx)("tbody",{children:l.map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:m,children:e.action}),Object(B.jsx)("td",{className:m,children:e.description}),Object(B.jsx)("td",{className:m,children:e.api})]},t)}))})]})]}),Object(B.jsx)("h3",{children:"\u5176\u4ed6\u8cc7\u8a0a:"}),"\u82e5\u60a8\u7684\u8a0a\u865f\u4f86\u81eaTradingView, \u53ef\u4f7f\u7528TradingView\u63d0\u4f9b\u7684",Object(B.jsx)("a",{href:"https://www.tradingview.com/support/solutions/43000531021-how-to-use-a-variable-value-in-alert/",rel:"noreferrer",children:"\u8b8a\u6578"}),"\u8a2d\u5b9a\u8a0a\u865f"]})},te={tableContainer:b("overflow-auto"),table:g.table,tableCell:b(g.tableCell,"break-all")},ce=function(){var e=Object(n.useState)([]),t=Object(C.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(C.a)(r,2),l=s[0],o=s[1],i=function(){var e=Object(w.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/signal/history").then((function(e){return e.data}));case 2:t=e.sent,a(t),c=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){e.startsWith("_")||"id"===e||c.add(e)}))})),o(Array.from(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i().then()}),[]),Object(B.jsxs)("div",{className:g.pageEdge,children:["\u8a0a\u865f\u7d00\u9304:",Object(B.jsx)("div",{className:te.tableContainer,children:Object(B.jsxs)("table",{className:te.table,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[0===l.length&&Object(B.jsx)("th",{className:te.tableCell,children:"\u7121\u4efb\u4f55\u7d00\u9304"}),l.length>0&&l.map((function(e,t){return Object(B.jsx)("th",{className:te.tableCell,children:e},t)}))]})}),Object(B.jsx)("tbody",{children:c.map((function(e,t){return Object(B.jsx)("tr",{children:l.map((function(t,c){return Object(B.jsx)("td",{className:te.tableCell,children:e[t]},c)}))},t)}))})]})})]})},ae={Login:{path:"/",exact:!0,component:W},Register:{path:"/Register",component:Q,protectionLevel:a.Authenticated},Accounts:{path:"/Accounts",lable:"\u5e63\u5b89\u5e33\u6236",component:J,protectionLevel:a.Authorized},Account:{path:"/Account/:id",lable:"\u7de8\u8f2f\u5e63\u5b89\u5e33\u6236",component:q,protectionLevel:a.Authorized},AccountRecord:{path:"/AccountRecord/:name",lable:"\u5e33\u6236\u64cd\u4f5c\u7d00\u9304",component:Y,protectionLevel:a.Authorized},Signals:{path:"/Signals",lable:"\u8a0a\u865f\u7d00\u9304",component:ce,protectionLevel:a.Authorized},SignalManual:{path:"/SignalManual",lable:"\u8a0a\u865f\u8a2d\u5b9a\u8aaa\u660e",component:ee,protectionLevel:a.Authorized}},ne=function(e){return e.path?Object(N.f)(e.path):""},re=[ae.Accounts,ae.Signals,ae.SignalManual],se={root:b("bg-white","dark:bg-gray-800","py-3","px-6","flex","justify-between"),menus:b("flex","justify-between"),site:b("font-bold"),menu:b("pl-6","text-gray-200")},le=Object(M.b)((function(){return Object(B.jsxs)("div",{className:se.root,children:[Object(B.jsxs)("div",{className:se.menus,children:[Object(B.jsx)("div",{className:se.site,children:"TradingBotttt v.0"}),D.authStatus===a.Authorized&&re.map((function(e,t){return Object(B.jsx)(v.b,{to:ne(e),className:se.menu,children:e.lable},t)}))]}),D.authStatus===a.Authorized&&Object(B.jsx)("a",{onClick:function(){D.logout(),window.location.reload()},href:"/",children:"logout"})]})})),oe=Object.values(ae),ie=Object(M.b)((function(){return Object(B.jsx)(N.d,{children:oe.map((function(e,t){return e.protectionLevel&&e.protectionLevel!==D.authStatus?Object(B.jsx)(N.a,{to:ne(ae.Login)},t):Object(B.jsx)(N.b,Object(o.a)({},e),t)}))})})),be={authStore:D,accountStore:z},ue=be;window.stores=be,L.a.interceptors.request.use((function(e){var t=V.a.get("auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),L.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response)switch(e.response.status){case 401:window.location.href="/"}return Promise.reject(e)}));var je=i(g.background,g.textColor,"min-h-screen"),de=function(){return Object(n.useEffect)((function(){document.documentElement.classList.add("dark")}),[]),Object(B.jsx)("div",{className:je,children:Object(B.jsx)(M.a,Object(o.a)(Object(o.a)({},ue),{},{children:Object(B.jsxs)(v.a,{children:[Object(B.jsx)(le,{}),Object(B.jsx)(ie,{})]})}))})},he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};c(68);l.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(de,{})}),document.getElementById("root")),he()}},[[69,1,2]]]);
//# sourceMappingURL=main.4121c2bb.chunk.js.map