(this.webpackJsonptradingbot_fe=this.webpackJsonptradingbot_fe||[]).push([[0],{68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a,n=c(1),s=c.n(n),r=c(19),l=c.n(r),o=c(9),i=c(35).a,b=i,j=b("bg-gray-100","dark:bg-gray-700"),u=b("text-gray-900","dark:text-gray-100"),d=b("py-3","px-6"),h=b("rounded","border"),O=b(h,"border-gray-100","dark:border-gray-600"),x=b("block","w-full","text-center","py-2","px-4","hover:bg-blue-500","font-semibold","text-blue-500","hover:text-white",h,"border-blue-500","hover:border-transparent"),p=b("table-auto","rounded","border-collapse","border","border-gray-800","w-full"),m=b("py-3","px-2","border","border-gray-600","h-10","text-center"),f=b("overflow-auto","rounded","bg-gray-600","p-2","mb-3","text-left"),g=(b("overflow-auto"),{background:j,textColor:u,pageEdge:d,border:h,borderGray:O,buttonStyle:x,table:p,tableCell:m,codeBlockStyle:f}),v=c(7),N=c(3),y=c(20),C=c(5),S=c(14),k=c.n(S),w=c(18),A=c(21),E=c(6),L=c.n(E),T=c(2),z=new function e(){var t=this;Object(A.a)(this,e),this.accounts=[],this.loadAccounts=Object(w.a)(k.a.mark((function e(){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/account/all").then((function(e){return e.data}));case 2:c=e.sent,t.accounts=c;case 4:case"end":return e.stop()}}),e)}))),this.save=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/account/save",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(T.l)(this)},F=c(0),B="New",q={root:b(g.pageEdge,"grid","grid-cols-2","gap-2"),input:b(g.background,g.borderGray,"px-3"),checkbox:b("translate-y-1.5","transform-gpu"),error:b("col-span-2","pt-2","text-red-500","text-xs"),button:b(g.buttonStyle,"col-span-2")},K={id:"",name:"",apiKey:"",apiSecret:"",quota:0,disabled:!1},P=function(){var e=Object(N.h)().id,t=Object(n.useState)(Object(o.a)({},K)),c=Object(C.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),l=Object(C.a)(r,2),i=l[0],b=l[1],j=Object(n.useState)(""),u=Object(C.a)(j,2),d=u[0],h=u[1],O=Object(n.useState)(!1),x=Object(C.a)(O,2),p=x[0],m=x[1];Object(n.useEffect)((function(){var t=e===B?K:z.accounts.find((function(t){return t.id===e}));t?s(Object(o.a)({},t)):b(!0)}),[e]);var f=function(e){var t=e.currentTarget,c="checkbox"===t.type?t.checked:t.value,n=t.name;s(Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},n,c)))};return i?Object(F.jsx)(N.a,{push:!0,to:ne(ae.Accounts)}):Object(F.jsxs)("div",{className:q.root,children:[Object(F.jsx)("label",{children:"\u540d\u7a31"}),Object(F.jsx)("input",{className:q.input,name:"name",type:"text",value:a.name,onChange:f}),e===B&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("label",{children:"API key"}),Object(F.jsx)("input",{className:q.input,name:"apiKey",type:"text",value:a.apiKey,onChange:f}),Object(F.jsx)("label",{children:"API Secret"}),Object(F.jsx)("input",{className:q.input,name:"apiSecret",type:"text",value:a.apiSecret,onChange:f})]}),Object(F.jsx)("label",{children:"\u55ae\u7b46\u6295\u8cc7\u984d"}),Object(F.jsx)("input",{className:q.input,name:"quota",type:"number",value:a.quota,onChange:f}),Object(F.jsx)("label",{children:"\u505c\u7528"}),Object(F.jsx)("input",{className:q.checkbox,name:"disabled",type:"checkbox",checked:a.disabled,onChange:f}),Object(F.jsx)("pre",{className:q.error,children:d||a.error}),Object(F.jsx)("button",{className:q.button,onClick:function(){var t=[];a.name||t.push("\u8acb\u8f38\u5165 \u540d\u7a31"),e===B&&(a.apiKey||t.push("\u8acb\u8f38\u5165 api Key"),a.apiSecret||t.push("\u8acb\u8f38\u5165 api Secret"),s(Object(o.a)(Object(o.a)({},a),{},{error:t.join("\n")}))),t.length>0||(m(!0),z.save(a).then((function(e){e?(h(e),m(!1)):b(!0)})).catch((function(){h("\u5132\u5b58\u5931\u6557, \u8acb\u6aa2\u67e5\u60a8\u7684 api Key \u6216 api Secret"),m(!1)})))},disabled:p,children:"\u5132\u5b58"})]})},R=c(8),M=function(e){return JSON.stringify(e,null,"\t")},I={page:b(g.pageEdge),tableContainer:b("overflow-auto"),table:g.table,tableCell:g.tableCell},Y=Object(R.b)((function(){var e=Object(N.h)().name,t=Object(n.useState)([]),c=Object(C.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){L.a.get("/account/records",{params:{name:e}}).then((function(e){return e.data})).then(s)}),[e]),Object(F.jsxs)("div",{className:I.page,children:["\u5e33\u6236 - ",e,Object(F.jsx)("br",{}),"\u7cfb\u7d71\u50c5\u4fdd\u5b58\u4e03\u5929\u5167\u4e4b\u4ea4\u6613\u7d00\u9304:",Object(F.jsx)("div",{className:I.tableContainer,children:Object(F.jsxs)("table",{className:I.table,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:I.tableCell,children:"\u6642\u9593"}),Object(F.jsx)("th",{className:I.tableCell,children:"\u52d5\u4f5c"}),Object(F.jsx)("th",{className:I.tableCell,children:"\u6210\u529f"}),Object(F.jsx)("th",{className:I.tableCell,children:"\u53c3\u6578"}),Object(F.jsx)("th",{className:I.tableCell,children:"\u7d50\u679c"})]})}),Object(F.jsx)("tbody",{children:a.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:I.tableCell,children:e.createdAt}),Object(F.jsx)("td",{className:I.tableCell,children:e.action}),Object(F.jsx)("td",{className:I.tableCell,children:e.success?"Y":"N"}),Object(F.jsx)("td",{className:I.tableCell,children:e.params}),Object(F.jsx)("td",{className:I.tableCell,children:Object(F.jsx)("pre",{className:f,children:M(e.result)})})]},t)}))})]})})]})})),_={actions:b("flex","justify-end"),action:b(g.buttonStyle,"w-28"),table:g.table,tableCell:g.tableCell,balancesCell:b("overflow-auto")},D=Object(R.b)((function(){Object(n.useEffect)((function(){z.loadAccounts()}),[]);var e=Object(n.useCallback)((function(e){var t;return e.error?Object(F.jsx)(F.Fragment,{children:e.error}):e.balances?Object(F.jsxs)("div",{className:_.balancesCell,children:["\u53ef\u7528\u8cc7\u7522(USDT):",e.balances.availableBalance," ",Object(F.jsx)("br",{}),"\u6301\u5009:",((null===(t=e.balances)||void 0===t?void 0:t.positions)||[]).map((function(e){return"".concat(e.symbol,": ").concat(e.positionAmt)})).join(" ; ")||"\u7121\u5009\u4f4d\u7d00\u9304"]}):Object(F.jsx)(F.Fragment,{children:"\u7121\u8cc7\u7522"})}),[]);return Object(F.jsxs)("div",{className:g.pageEdge,children:[Object(F.jsx)("div",{className:_.actions,children:Object(F.jsx)(v.b,{className:_.action,to:"/Account/".concat(B),children:"\u65b0\u589e\u5e33\u865f"})}),"\u5e33\u6236\u5217\u8868:",Object(F.jsxs)("table",{className:_.table,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:_.tableCell}),Object(F.jsx)("th",{className:_.tableCell,children:"\u540d\u7a31"}),Object(F.jsx)("th",{className:_.tableCell,children:"\u8cc7\u7522 (free/locked)"}),Object(F.jsx)("th",{className:_.tableCell,children:"\u55ae\u7b46\u6295\u8cc7\u984d"}),Object(F.jsx)("th",{className:_.tableCell,children:"\u505c\u7528"}),Object(F.jsx)("th",{className:_.tableCell})]})}),Object(F.jsx)("tbody",{children:z.accounts.map((function(t,c){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:_.tableCell,children:Object(F.jsx)(v.b,{className:g.buttonStyle,to:"/Account/".concat(t.id),children:"\u7de8\u8f2f"})}),Object(F.jsx)("td",{className:_.tableCell,children:t.name}),Object(F.jsx)("td",{className:_.tableCell,children:e(t)}),Object(F.jsx)("td",{className:_.tableCell,children:t.quota}),Object(F.jsx)("td",{className:_.tableCell,children:t.disabled?"Y":""}),Object(F.jsx)("td",{className:_.tableCell,children:Object(F.jsx)(v.b,{className:g.buttonStyle,to:"/AccountRecord/".concat(t.name),children:"\u64cd\u4f5c\u8a18\u9304"})})]},c)}))})]})]})})),J=c(15),U=c.n(J);!function(e){e[e.Authenticated=0]="Authenticated",e[e.Authorized=1]="Authorized"}(a||(a={}));var G=new function e(){var t=this;Object(A.a)(this,e),this.authStatus=void 0,this.logout=function(){U.a.remove("auth-token"),t.authStatus=void 0},Object(T.l)(this);var c=U.a.get("auth-token");this.authStatus=c?a.Authorized:void 0},V={root:b("m-16","p-16")},H=Object(R.b)((function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("/auth/url").then((function(e){return e.text()})).then((function(e){s(e)}))}),[]),G.authStatus===a.Authenticated?Object(F.jsx)(N.a,{push:!0,to:ne(ae.Register)}):Object(F.jsx)("div",{className:V.root,children:Object(F.jsx)("a",{className:g.buttonStyle,href:c,children:"\u767b\u5165"})})})),W={root:b("m-16","p-16")},Q=Object(R.b)((function(){var e=Object(n.useMemo)((function(){return U.a.get("auth-token")}),[]),t=Object(n.useState)(!1),c=Object(C.a)(t,2),a=c[0],s=c[1];return e?a?Object(F.jsx)(N.a,{push:!0,to:ne(ae.Accounts)}):Object(F.jsx)("div",{className:W.root,children:Object(F.jsx)("button",{className:g.buttonStyle,onClick:function(){L.a.post("/auth/register").then((function(){s(!0)}))},children:"\u8a3b\u518a"})}):Object(F.jsx)(N.a,{push:!0,to:ne(ae.Login)})})),X={block:b("mb-6"),token:b(f)},Z="/signal/trading",$={action:"FOrderTest",token:"[Your Token]",symbol:"ETHUSDT",side:"BUY",quantity:"6"},ee=function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(C.a)(s,2),l=r[0],i=r[1],b=Object(n.useState)(!1),j=Object(C.a)(b,2),u=j[0],h=j[1];Object(n.useEffect)((function(){L.a.get("/signal/getToken").then((function(e){return a(e.data)})),L.a.get("/signal/actions").then((function(e){return i(e.data)}))}),[]);return Object(F.jsxs)("div",{className:d,children:[Object(F.jsx)("label",{children:"\u8a0a\u865f\u7bc4\u4f8b:"}),Object(F.jsx)("div",{className:X.block,children:Object(F.jsxs)("pre",{className:f,children:["api url: ",window.location.host+Z,Object(F.jsx)("br",{}),"payload:",M($),Object(F.jsx)("br",{}),Object(F.jsx)("a",{href:"https://binance-docs.github.io/apidocs/spot/cn/#c15d2e6b39",target:"_blank",rel:"noreferrer",children:"\u8a73\u7d30\u53c3\u6578\u8aaa\u660e"}),Object(F.jsx)("br",{}),!u&&Object(F.jsx)("button",{className:x,onClick:function(){var e=Object(o.a)({},$);e.token=c,L.a.post(Z,e).then((function(e){h(!0)}))},children:"\u9001\u51fa"}),u&&Object(F.jsx)("div",{children:"\u6e2c\u8a66\u5df2\u9001\u51fa,\u8acb\u81f3[\u8a0a\u865f\u7d00\u9304]\u8207[\u5e33\u6236\u64cd\u4f5c\u8a18\u9304]\u67e5\u8a62\u7d50\u679c"})]})}),Object(F.jsxs)("div",{className:X.block,children:["token:",Object(F.jsx)("div",{className:X.token,children:Object(F.jsx)("div",{children:c})})]}),Object(F.jsxs)("div",{className:X.block,children:["action\u5c0d\u7167\u8868:",Object(F.jsxs)("table",{className:p,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:m,children:"\u540d\u7a31"}),Object(F.jsx)("th",{className:m,children:"\u529f\u80fd\u63cf\u8ff0"}),Object(F.jsx)("th",{className:m,children:"api"})]})}),Object(F.jsx)("tbody",{children:l.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:m,children:e.action}),Object(F.jsx)("td",{className:m,children:e.description}),Object(F.jsx)("td",{className:m,children:e.api})]},t)}))})]})]}),Object(F.jsx)("h3",{children:"\u5176\u4ed6\u8cc7\u8a0a:"}),"\u82e5\u60a8\u7684\u8a0a\u865f\u4f86\u81eaTradingView, \u53ef\u4f7f\u7528TradingView\u63d0\u4f9b\u7684",Object(F.jsx)("a",{href:"https://www.tradingview.com/support/solutions/43000531021-how-to-use-a-variable-value-in-alert/",rel:"noreferrer",children:"\u8b8a\u6578"}),"\u8a2d\u5b9a\u8a0a\u865f"]})},te={tableContainer:b("overflow-auto"),table:g.table,tableCell:b(g.tableCell,"break-all")},ce=function(){var e=Object(n.useState)([]),t=Object(C.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(C.a)(s,2),l=r[0],o=r[1],i=function(){var e=Object(w.a)(k.a.mark((function e(){var t,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/signal/history").then((function(e){return e.data}));case 2:t=e.sent,a(t),c=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){e.startsWith("_")||"id"===e||c.add(e)}))})),o(Array.from(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i().then()}),[]),Object(F.jsxs)("div",{className:g.pageEdge,children:["\u8a0a\u865f\u7d00\u9304:",Object(F.jsx)("div",{className:te.tableContainer,children:Object(F.jsxs)("table",{className:te.table,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[0===l.length&&Object(F.jsx)("th",{className:te.tableCell,children:"\u7121\u4efb\u4f55\u7d00\u9304"}),l.length>0&&l.map((function(e,t){return Object(F.jsx)("th",{className:te.tableCell,children:e},t)}))]})}),Object(F.jsx)("tbody",{children:c.map((function(e,t){return Object(F.jsx)("tr",{children:l.map((function(t,c){return Object(F.jsx)("td",{className:te.tableCell,children:e[t]},c)}))},t)}))})]})})]})},ae={Login:{path:"/",exact:!0,component:H},Register:{path:"/Register",component:Q,protectionLevel:a.Authenticated},Accounts:{path:"/Accounts",lable:"\u5e63\u5b89\u5e33\u6236",component:D,protectionLevel:a.Authorized},Account:{path:"/Account/:id",lable:"\u7de8\u8f2f\u5e63\u5b89\u5e33\u6236",component:P,protectionLevel:a.Authorized},AccountRecord:{path:"/AccountRecord/:name",lable:"\u5e33\u6236\u64cd\u4f5c\u7d00\u9304",component:Y,protectionLevel:a.Authorized},Signals:{path:"/Signals",lable:"\u8a0a\u865f\u7d00\u9304",component:ce,protectionLevel:a.Authorized},SignalManual:{path:"/SignalManual",lable:"\u8a0a\u865f\u8a2d\u5b9a\u8aaa\u660e",component:ee,protectionLevel:a.Authorized}},ne=function(e){return e.path?Object(N.f)(e.path):""},se=[ae.Accounts,ae.Signals,ae.SignalManual],re={root:b("bg-white","dark:bg-gray-800","py-3","px-6","flex","justify-between"),menus:b("flex","justify-between"),site:b("font-bold"),menu:b("pl-6","text-gray-200")},le=Object(R.b)((function(){return Object(F.jsxs)("div",{className:re.root,children:[Object(F.jsxs)("div",{className:re.menus,children:[Object(F.jsx)("div",{className:re.site,children:"TradingBotttt v.0"}),G.authStatus===a.Authorized&&se.map((function(e,t){return Object(F.jsx)(v.b,{to:ne(e),className:re.menu,children:e.lable},t)}))]}),G.authStatus===a.Authorized&&Object(F.jsx)("a",{onClick:function(){G.logout(),window.location.reload()},href:"/",children:"logout"})]})})),oe=Object.values(ae),ie=Object(R.b)((function(){return Object(F.jsx)(N.d,{children:oe.map((function(e,t){return e.protectionLevel&&e.protectionLevel!==G.authStatus?Object(F.jsx)(N.a,{to:ne(ae.Login)},t):Object(F.jsx)(N.b,Object(o.a)({},e),t)}))})})),be={authStore:G,accountStore:z},je=be;window.stores=be,L.a.interceptors.request.use((function(e){var t=U.a.get("auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),L.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response)switch(e.response.status){case 401:window.location.href="/"}return Promise.reject(e)}));var ue=i(g.background,g.textColor,"min-h-screen"),de=function(){return Object(n.useEffect)((function(){document.documentElement.classList.add("dark")}),[]),Object(F.jsx)("div",{className:ue,children:Object(F.jsx)(R.a,Object(o.a)(Object(o.a)({},je),{},{children:Object(F.jsxs)(v.a,{children:[Object(F.jsx)(le,{}),Object(F.jsx)(ie,{})]})}))})},he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};c(68);l.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(de,{})}),document.getElementById("root")),he()}},[[69,1,2]]]);
//# sourceMappingURL=main.7cec2224.chunk.js.map